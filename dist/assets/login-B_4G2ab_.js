import{c as l}from"./constants-BFK3kwLT.js";async function i(s){s.preventDefault();const a=document.getElementById("email").value,r=document.getElementById("password").value,t={email:a,password:r};console.log(t);try{const e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},o=await(await fetch(l,e)).json(),c=o.data.accessToken;return localStorage.setItem("accessToken",c),localStorage.setItem("userName",JSON.stringify(o.data.name)),o}catch(e){alert("login failed"),console.error("Login failed",e)}finally{window.location.href="/src/html/profile.html"}}const n=document.querySelector("#login-form");console.log(n);n?(console.log("Form found"),n.addEventListener("submit",i)):console.error("form not found");
